problem BoundedMaxCut {
  set V;
  param LinkWeight[V,V] : Real = 1;

  find Left : Subset(V);

  must sum(if Left.has(v) then 1 else 0 for v in V) <= 3;

  should any(Left.has(v) for v in V);
  should any(not Left.has(v) for v in V);

  maximize sum(sum(if Left.has(u) then
                      if Left.has(v) then 0
                      else LinkWeight[u, v]
                  else if Left.has(v) then LinkWeight[u, v]
                  else 0
                for v in V) for u in V) / 2;
}
